<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Redirect</title>
    <script>
        // Log all redirects
        (function() {
            const originalPushState = history.pushState;
            const originalReplaceState = history.replaceState;
            
            history.pushState = function() {
                console.log('pushState called:', arguments);
                return originalPushState.apply(history, arguments);
            };
            
            history.replaceState = function() {
                console.log('replaceState called:', arguments);
                return originalReplaceState.apply(history, arguments);
            };
            
            window.addEventListener('popstate', function(e) {
                console.log('popstate event:', e);
            });
        })();
        
        // Log page load and any redirects
        console.log('Page loaded at:', new Date().toISOString());
        console.log('Current URL:', window.location.href);
        
        // Check for any redirects after a short delay
        setTimeout(function() {
            console.log('Checking for redirects after 1 second...');
            console.log('Current URL after delay:', window.location.href);
            
            // Check if we've been redirected
            if (window.location.href.includes('admin.html')) {
                console.error('Redirect to admin.html detected!');
                console.trace('Stack trace for redirect');
            }
        }, 1000);
    </script>
</head>
<body>
    <h1>Debug Redirect Page</h1>
    <p>Check the browser console for redirect information.</p>
    <p>Current URL: <span id="current-url"></span></p>
    
    <script>
        // Display current URL on the page
        document.getElementById('current-url').textContent = window.location.href;
        
        // Periodically check for URL changes
        let lastUrl = window.location.href;
        setInterval(function() {
            if (window.location.href !== lastUrl) {
                console.log('URL changed from:', lastUrl, 'to:', window.location.href);
                lastUrl = window.location.href;
                document.getElementById('current-url').textContent = lastUrl;
                
                if (lastUrl.includes('admin.html')) {
                    console.error('Redirect to admin.html detected in interval check!');
                }
            }
        }, 100);
    </script>
</body>
</html>
